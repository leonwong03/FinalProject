{"ast":null,"code":"var _jsxFileName = \"/Users/leon/Development/F-Deli/Client/src/containers/adminContainers/OrdersContainer.js\";\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchOrders, deliverOrder, deleteOrder } from '../../actions/orderActions';\nimport formatCurrency from '../../util';\n\nconst OrdersContainer = props => {\n  const dispatch = useDispatch();\n  const orderList = useSelector(state => state.orders);\n  const {\n    orders\n  } = orderList;\n  orders.sort((a, b) => a.created_at < b.created_at ? 1 : -1);\n  useEffect(() => {\n    if (orderList.success) {\n      orderList.success = false;\n    }\n\n    dispatch(fetchOrders());\n    return () => {//\n    };\n  }, [dispatch, orderList.success]);\n\n  const deliverHandler = order => {\n    order.isDelivered = true;\n    order.deliveredAt = new Date().toString();\n    dispatch(deliverOrder(order));\n  };\n\n  const deleteHandler = order => {\n    dispatch(deleteOrder(order));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content content-margined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"Orders\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"order-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"DATE\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, \"TOTAL\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }, \"USER\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, \"PAID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, \"PAID AT\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \"DELIVERED\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"DELIVERED AT\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, \"ACTIONS\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, orders.map(order => /*#__PURE__*/React.createElement(\"tr\", {\n    key: order.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, order.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, order.created_at.substring(0, 10)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, formatCurrency(order.totalPrice)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, order.user.first_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, order.isPaid.toString()), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, order.paidAt), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, order.isDelivered.toString()), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, order.deliveredAt), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/orders/${order.id}`,\n    className: \"button secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, \"Details\"), !order.isDelivered ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button secondary\",\n    onClick: () => deliverHandler(order),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"Deliver Order\") : /*#__PURE__*/React.createElement(\"button\", {\n    disabled: true,\n    className: \"button secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, \"Deliver Order\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button secondary\",\n    onClick: () => deleteHandler(order),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, \"Delete\"))))))));\n};\n\nexport default OrdersContainer;","map":{"version":3,"sources":["/Users/leon/Development/F-Deli/Client/src/containers/adminContainers/OrdersContainer.js"],"names":["React","useEffect","useSelector","useDispatch","Link","fetchOrders","deliverOrder","deleteOrder","formatCurrency","OrdersContainer","props","dispatch","orderList","state","orders","sort","a","b","created_at","success","deliverHandler","order","isDelivered","deliveredAt","Date","toString","deleteHandler","map","id","substring","totalPrice","user","first_name","isPaid","paidAt"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { fetchOrders, deliverOrder, deleteOrder } from '../../actions/orderActions';\nimport formatCurrency from '../../util';\n\nconst OrdersContainer = props => {\n  const dispatch = useDispatch();\n  const orderList = useSelector(state => state.orders);\n  const { orders } = orderList;\n  orders.sort((a, b) => (a.created_at < b.created_at ? 1 : -1));\n\n  useEffect(() => {\n    if (orderList.success) {\n      orderList.success = false;\n    }\n    dispatch(fetchOrders());\n\n    return () => {\n      //\n    };\n  }, [dispatch, orderList.success]);\n\n  const deliverHandler = order => {\n    order.isDelivered = true;\n    order.deliveredAt = new Date().toString();\n    dispatch(deliverOrder(order));\n  };\n\n  const deleteHandler = order => {\n    dispatch(deleteOrder(order));\n  };\n\n  return (\n    <div className='content content-margined'>\n      <div className='order-header'>\n        <h3>Orders</h3>\n      </div>\n      <div className='order-list'>\n        <table className='table'>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>DATE</th>\n              <th>TOTAL</th>\n              <th>USER</th>\n              <th>PAID</th>\n              <th>PAID AT</th>\n              <th>DELIVERED</th>\n              <th>DELIVERED AT</th>\n              <th>ACTIONS</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (\n              <tr key={order.id}>\n                <td>{order.id}</td>\n                <td>{order.created_at.substring(0, 10)}</td>\n                <td>{formatCurrency(order.totalPrice)}</td>\n                <td>{order.user.first_name}</td>\n                <td>{order.isPaid.toString()}</td>\n                <td>{order.paidAt}</td>\n                <td>{order.isDelivered.toString()}</td>\n                <td>{order.deliveredAt}</td>\n                <td>\n                  <Link to={`/orders/${order.id}`} className='button secondary'>\n                    Details\n                  </Link>\n                  {!order.isDelivered ? (\n                    <button className='button secondary' onClick={() => deliverHandler(order)}>\n                      Deliver Order\n                    </button>\n                  ) : (\n                    <button disabled className='button secondary'>\n                      Deliver Order\n                    </button>\n                  )}\n\n                  <button className='button secondary' onClick={() => deleteHandler(order)}>\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default OrdersContainer;\n"]},"metadata":{},"sourceType":"module"}