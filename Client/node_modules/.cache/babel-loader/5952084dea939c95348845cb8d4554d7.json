{"ast":null,"code":"var _jsxFileName = \"/Users/leon/Development/Deli-Vape-Project/Client/src/containers/userContainers/SigninContainer.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { signin } from '../../actions/userActions';\n\nconst SigninContainer = props => {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    userInfo\n  } = useSelector(state => state.user);\n  const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\n  useEffect(() => {\n    if (userInfo.user) {\n      props.history.push(redirect);\n    }\n\n    return () => {//\n    };\n  }, [userInfo, props.history, redirect]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(\"/signin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }).then(r => {\n      if (r.ok) {\n        r.json().then(user => setUser(user));\n      } else {\n        r.json().then(err => setErrors(err.errors));\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Sign-In\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: submitHandler,\n    type: \"submit\",\n    className: \"button primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Sign In\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"New to 69th Street Convenience?\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: redirect === '/' ? 'register' : 'register?redirect=' + redirect,\n    className: \"button secondary text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"Create Account\")))));\n};\n\nexport default SigninContainer;","map":{"version":3,"sources":["/Users/leon/Development/Deli-Vape-Project/Client/src/containers/userContainers/SigninContainer.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Link","signin","SigninContainer","props","dispatch","email","setEmail","password","setPassword","userInfo","state","user","redirect","location","search","split","history","push","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","r","ok","json","setUser","err","setErrors","errors","submitHandler","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { signin } from '../../actions/userActions';\n\nconst SigninContainer = props => {\n  const dispatch = useDispatch();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { userInfo } = useSelector(state => state.user);\n  const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\n\n  useEffect(() => {\n    if (userInfo.user) {\n      props.history.push(redirect);\n    }\n    return () => {\n      //\n    };\n  }, [userInfo, props.history, redirect]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    fetch(\"/signin\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    }).then((r) => {\n      if (r.ok) {\n        r.json().then((user) => setUser(user));\n      }\n      else {\n        r.json().then((err) => setErrors(err.errors));\n      }\n    });\n  }\n\n  return (\n    <div className='form'>\n      <form onSubmit={submitHandler}>\n        <ul className='form-container'>\n          <li>\n            <h2>Sign-In</h2>\n          </li>\n          <li>\n            <label htmlFor='email'>Email</label>\n            <input type='email' name='email' id='email' onChange={e => setEmail(e.target.value)} />\n          </li>\n          <li>\n            <label htmlFor='password'>Password</label>\n            <input type='password' id='password' name='password' onChange={e => setPassword(e.target.value)} />\n          </li>\n          <li>\n            <button onClick={submitHandler} type='submit' className='button primary'>\n              Sign In\n            </button>\n          </li>\n          <li>New to 69th Street Convenience?</li>\n          <li>\n            <Link\n              to={redirect === '/' ? 'register' : 'register?redirect=' + redirect}\n              className='button secondary text-center'>\n              Create Account\n            </Link>\n          </li>\n        </ul>\n      </form>\n    </div>\n  );\n};\n\nexport default SigninContainer;\n"]},"metadata":{},"sourceType":"module"}