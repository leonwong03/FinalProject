{"ast":null,"code":"var _jsxFileName = \"/Users/leon/Development/Deli-Vape-Project/Client/src/containers/checkoutContainers/CartContainer.js\";\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart, removeFromCart, editCartItem } from '../../actions/cartActions';\nimport { Link } from 'react-router-dom';\nimport Fade from 'react-reveal';\nimport formatCurrency from '../../util';\n\nconst CartContainer = props => {\n  const dispatch = useDispatch();\n  const {\n    cartItems\n  } = useSelector(state => state.cart);\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandler = productId => {\n    dispatch(removeFromCart(productId));\n  };\n\n  const checkoutHandler = () => {\n    props.history.push('/signin?redirect=shipping');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Fade, {\n    cascade: true,\n    bottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"cart-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 15\n    }\n  }, \"Shopping Cart\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }, \"Price\")), cartItems.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 15\n    }\n  }, \"Cart is empty\") : cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/products/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 23\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, \"Qty:\", /*#__PURE__*/React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(editCartItem(item, Number(e.target.value))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 23\n    }\n  }, [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 27\n    }\n  }, x + 1))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"button\",\n    onClick: () => removeFromCartHandler(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, \"$\", item.price)))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Subtotal (\", cartItems.reduce((a, c) => a + c.qty, 0), \" items):\", ' ', formatCurrency(cartItems.reduce((a, c) => a + c.price * c.qty, 0))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: checkoutHandler,\n    className: \"button primary full-width\",\n    disabled: cartItems.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Proceed To Checkout\")));\n};\n\nexport default CartContainer;","map":{"version":3,"sources":["/Users/leon/Development/Deli-Vape-Project/Client/src/containers/checkoutContainers/CartContainer.js"],"names":["React","useEffect","useDispatch","useSelector","addToCart","removeFromCart","editCartItem","Link","Fade","formatCurrency","CartContainer","props","dispatch","cartItems","state","cart","productId","match","params","id","qty","location","search","Number","split","removeFromCartHandler","checkoutHandler","history","push","length","map","item","product","image","title","name","e","target","value","Array","countInStock","keys","x","price","reduce","a","c"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart, removeFromCart, editCartItem } from '../../actions/cartActions';\nimport { Link } from 'react-router-dom';\nimport Fade from 'react-reveal';\nimport formatCurrency from '../../util';\n\nconst CartContainer = props => {\n  const dispatch = useDispatch();\n  const { cartItems } = useSelector(state => state.cart);\n  const productId = props.match.params.id;\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  const removeFromCartHandler = productId => {\n    dispatch(removeFromCart(productId));\n  };\n\n  const checkoutHandler = () => {\n    props.history.push('/signin?redirect=shipping');\n  };\n\n  return (\n    <div className='cart'>\n      <div className='cart-list'>\n        <Fade cascade bottom>\n          <ul className='cart-list-container'>\n            <li>\n              <h3>Shopping Cart</h3>\n              <div>Price</div>\n            </li>\n            {cartItems.length === 0 ? (\n              <div>Cart is empty</div>\n            ) : (\n              cartItems.map(item => (\n                <li key={item.product}>\n                  <div className='cart-image'>\n                    <img src={item.image} alt={item.title} />\n                  </div>\n\n                  <div className='cart-name'>\n                    <div>\n                      <Link to={`/products/${item.product}`}>{item.name}</Link>\n                    </div>\n                    <div>\n                      Qty:\n                      <select value={item.qty} onChange={e => dispatch(editCartItem(item, Number(e.target.value)))}>\n                        {[...Array(item.countInStock).keys()].map(x => (\n                          <option key={x + 1} value={x + 1}>\n                            {x + 1}\n                          </option>\n                        ))}\n                      </select>\n                      <button type='button' className='button' onClick={() => removeFromCartHandler(item)}>\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                  <div className='cart-price'>${item.price}</div>\n                </li>\n              ))\n            )}\n          </ul>\n        </Fade>\n      </div>\n\n      <div className='cart-action'>\n        <h3>\n          Subtotal ({cartItems.reduce((a, c) => a + c.qty, 0)} items):{' '}\n          {formatCurrency(cartItems.reduce((a, c) => a + c.price * c.qty, 0))}\n        </h3>\n        <button onClick={checkoutHandler} className='button primary full-width' disabled={cartItems.length === 0}>\n          Proceed To Checkout\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CartContainer;\n"]},"metadata":{},"sourceType":"module"}