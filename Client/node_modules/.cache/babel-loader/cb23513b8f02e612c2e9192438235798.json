{"ast":null,"code":"var _jsxFileName = \"/Users/leon/Development/Deli-Vape-Project/Client/src/containers/userContainers/RegisterContainer.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { register } from '../../actions/userActions';\n\nconst RegisterContainer = props => {\n  const dispatch = useDispatch();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirmation, setPasswordConformation] = useState('');\n  const [errors, setErrors] = useState([]);\n  const {\n    userInfo\n  } = useSelector(state => state.user);\n  const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (password === passwordConfirmation) {\n      fetch('/users', {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password,\n          // password_confirmation: passwordConfirmation,\n          first_name,\n          last_name\n        })\n      }).then(r => {\n        if (r.ok) {\n          r.json().then(user => dispatch(addUsers1(user)));\n        } else {\n          r.json().then(err => setErrors(err.error));\n        }\n      });\n    } else {\n      alert(\"Password and Password Confirmation are not the same! Please try again\");\n    }\n  }\n\n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n    }\n\n    return () => {//\n    };\n  }, [userInfo, props.history, redirect]);\n\n  const submitHandler = event => {\n    event.preventDefault();\n    dispatch(register(firstName, lastName, email, password, passwordConfirmation));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Create An Account\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"first_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"first_name\",\n    required: true,\n    name: \"first_name\",\n    id: \"first_name\",\n    onChange: e => setFirstName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"last_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"last_name\",\n    required: true,\n    name: \"last_name\",\n    id: \"last_name\",\n    onChange: e => setLastName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    required: true,\n    name: \"email\",\n    id: \"email\",\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    required: true,\n    id: \"password\",\n    name: \"password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password_confirmation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"Password Confirmation\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    required: true,\n    id: \"password_confirmation\",\n    name: \"password_confirmation\",\n    onChange: e => setPasswordConformation(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"Already have an account?\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: redirect === '/' ? 'signin' : 'signin?redirect=' + redirect,\n    className: \"button secondary text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"Sign In\")))));\n};\n\nexport default RegisterContainer;","map":{"version":3,"sources":["/Users/leon/Development/Deli-Vape-Project/Client/src/containers/userContainers/RegisterContainer.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Link","register","RegisterContainer","props","dispatch","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","passwordConfirmation","setPasswordConformation","errors","setErrors","userInfo","state","user","redirect","location","search","split","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","first_name","last_name","then","r","ok","json","addUsers1","err","error","alert","history","push","submitHandler","event","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { register } from '../../actions/userActions';\n\nconst RegisterContainer = props => {\n  const dispatch = useDispatch();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [passwordConfirmation, setPasswordConformation] = useState('');\n  const [errors, setErrors] = useState([]);\n  const { userInfo } = useSelector(state => state.user);\n  const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if(password===passwordConfirmation)\n    {\n    fetch('/users', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email,\n        password,\n        // password_confirmation: passwordConfirmation,\n        first_name,\n        last_name,\n      }),\n    }).then((r) => {\n      if (r.ok) {\n        r.json().then((user) => dispatch(addUsers1(user)))\n      }\n      else {\n        r.json().then((err) => setErrors(err.error));\n      }\n    });\n  }\n  else{\n    alert(\"Password and Password Confirmation are not the same! Please try again\")\n  \n  }\n}\n\n  useEffect(() => {\n    if (userInfo) {\n      props.history.push(redirect);\n    }\n    return () => {\n      //\n    };\n  }, [userInfo, props.history, redirect]);\n\n  const submitHandler = event => {\n    event.preventDefault();\n    dispatch(register(firstName, lastName, email, password, passwordConfirmation));\n  };\n\n  return (\n    <div className='form'>\n      <form onSubmit={handleSubmit}>\n        <ul className='form-container'>\n          <li>\n            <h2>Create An Account</h2>\n          </li>\n          <li>\n            <label htmlFor='first_name'>First Name</label>\n            <input\n              type='first_name'\n              required\n              name='first_name'\n              id='first_name'\n              onChange={e => setFirstName(e.target.value)}\n            />\n          </li>\n          <li>\n            <label htmlFor='last_name'>Last Name</label>\n            <input\n              type='last_name'\n              required\n              name='last_name'\n              id='last_name'\n              onChange={e => setLastName(e.target.value)}\n            />\n          </li>\n          <li>\n            <label htmlFor='email'>Email</label>\n            <input type='email' required name='email' id='email' onChange={e => setEmail(e.target.value)} />\n          </li>\n          <li>\n            <label htmlFor='password'>Password</label>\n            <input type='password' required id='password' name='password' onChange={e => setPassword(e.target.value)} />\n          </li>\n          <li>\n            <label htmlFor='password_confirmation'>Password Confirmation</label>\n            <input\n              type='password'\n              required\n              id='password_confirmation'\n              name='password_confirmation'\n              onChange={e => setPasswordConformation(e.target.value)}\n            />\n          </li>\n          <li>\n            <button type='submit' className='button primary'>\n              Register\n            </button>\n          </li>\n          <li>Already have an account?</li>\n          <li>\n            <Link\n              to={redirect === '/' ? 'signin' : 'signin?redirect=' + redirect}\n              className='button secondary text-center'>\n              Sign In\n            </Link>\n          </li>\n        </ul>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterContainer;\n"]},"metadata":{},"sourceType":"module"}